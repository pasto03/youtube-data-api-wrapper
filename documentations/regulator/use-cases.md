> **Note**: This documentation was generated by AI and may contain inaccuracies. Please verify information and refer to the source code for authoritative details.

> **⚠️ OBSOLETE**: The Regulator component is obsolete. See [Estimator Documentation](./estimator/estimator.md) for the current approach.

# Regulator Use Cases (Obsolete)

This document provides practical examples of when and how to use regulators.

## Common Patterns

### Pattern 1: Safety Check Before Large Operations

```python
from yt_pipeline.regulator import ChannelsRegulator
from yt_pipeline.retriever import ChannelsRetriever

channel_ids = [...]  # Large list of channel IDs
retriever = ChannelsRetriever(
    iterable=channel_ids,
    developerKey=devKey
)

regulator = ChannelsRegulator(retriever=retriever)
results = regulator.invoke()  # Will estimate and ask for confirmation
```

### Pattern 2: Bypass for Trusted Operations

```python
# Bypass regulation when you're certain about costs
results = regulator.invoke(bypass_regulation=True)
```

## Detailed Examples

### Example 1: Batch Channel Processing

```python
from yt_pipeline.regulator import ChannelsRegulator
from yt_pipeline.retriever import ChannelsRetriever

# Large batch of channels
channel_ids = ["UC_...", "UC_...", ...]  # 1000+ channel IDs

retriever = ChannelsRetriever(
    iterable=channel_ids,
    developerKey=devKey
)

regulator = ChannelsRegulator(retriever=retriever)

# Will show:
# Estimated quota usage: 20
# Do you want to proceed? (Y/n)
results = regulator.invoke()
```

### Example 2: Search Operations

```python
from yt_pipeline.regulator import SearchRegulator
from yt_pipeline.retriever import SearchRetriever, SearchParamProps, SearchTypeCheckboxProps, PipeSettings

search_params = [SearchParamProps(q="python")] * 10  # 10 searches

retriever = SearchRetriever(
    iterable=search_params,
    developerKey=devKey,
    types=SearchTypeCheckboxProps(video=True),
    settings=PipeSettings(max_page=1)
)

regulator = SearchRegulator(retriever=retriever)

# Will show:
# Estimated quota usage: 1000
# Do you want to proceed? (Y/n)
results = regulator.invoke()
```

## When to Use Regulators

### Use Regulators When:

- Processing large batches
- Working in production environments
- Need to prevent accidental quota exhaustion
- Want cost transparency before execution

### Skip Regulators When:

- Processing small batches (under hard limit)
- In development/testing
- Using pipelines (pipelines have built-in estimation)
- Need maximum performance

## Best Practices

1. **Use for Large Batches** — Always use for operations that might exceed quota
2. **Review Estimates** — Check estimates before confirming
3. **Monitor Quota** — Keep track of daily quota usage
4. **Use Pipelines** — Pipelines have built-in estimation (no need for regulators)
5. **Bypass Carefully** — Only bypass when certain about costs

## Migration to Estimator

The Regulator component is obsolete. For quota estimation, use the **Estimator** classes instead:

- **[Estimator Documentation](./estimator/estimator.md)** — Current quota estimation approach
- **[Pipeline Estimator](../pipeline/pipeline-estimator.md)** — Pipeline quota estimation (uses estimators internally)

## Related Documentation

- **[Estimator Overview](./estimator/estimator.md)** — **Use this instead** — Current quota estimation
- **[Regulator Overview](./regulator.md)** — Obsolete component details
- **[Pipeline Estimator](../pipeline/pipeline-estimator.md)** — Uses estimators for pipeline cost calculation

## Next Steps

- **Use Estimator Instead**: See [Estimator Documentation](./estimator/estimator.md) for the recommended approach
- Learn about [Pipeline Estimation](../pipeline/pipeline-estimator.md) for pipeline quota management
