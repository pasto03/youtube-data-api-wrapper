> **Note**: This documentation was generated by AI and may contain inaccuracies. Please verify information and refer to the source code for authoritative details.

# SearchForeman

## Purpose

The `SearchForeman` searches YouTube and structures the results. It orchestrates the complete workflow: searches for content, parses results into structured objects, and optionally flattens them for export.

## Input Requirements

- **Input Type**: `list[SearchParamProps]` — List of search parameter objects
- **SearchParamProps**: Contains query string and optional filters

## Output Structure

### Container Output (`as_box=True`)

Returns `SearchContainer` with `SearchItem` objects containing:

- `id.kind` — Resource type ("youtube#video", "youtube#channel", "youtube#playlist")
- `id.videoId` / `id.channelId` / `id.playlistId` — Resource ID
- `snippet.title` — Result title
- `snippet.description` — Result description
- `snippet.publishedAt` — Publish date
- `snippet.thumbnails` — Thumbnail images

### Shipper Output (`as_box=False`, default)

Returns `SearchShipper` with:

- `main_records` — List of flattened search result dictionaries
- `thumbnails` — Dictionary mapping result IDs to thumbnail lists

## Common Use Cases

1. **Content Discovery** — Find videos, channels, or playlists
2. **Search Results Display** — Show search results in UI
3. **Filtered Searches** — Apply filters for duration, category, date
4. **Multi-Type Search** — Search for multiple resource types

## Example Usage

### Structured Access

```python
from yt_pipeline.foreman import SearchForeman
from yt_pipeline.retriever import RetrieverSettings, PipeSettings, SearchParamProps, SearchTypeCheckboxProps

foreman = SearchForeman(types=SearchTypeCheckboxProps(video=True))
container = foreman.invoke(
    iterable=[SearchParamProps(q="python tutorial")],
    developerKey=devKey,
    pipe_settings=PipeSettings(max_page=1),
    as_box=True
)

for item in container.items:
    if item.id.kind == "youtube#video":
        print(f"Video: {item.snippet.title}")
        print(f"Video ID: {item.id.videoId}")
```

## Related Components

- **[SearchRetriever](../retriever/search.md)** — Used internally
- **[SearchContainer](../container/search.md)** — Provides structured objects
- **[SearchShipper](../shipper/search.md)** — Provides flattened dictionaries

## Next Steps

- Read about [Foreman Use Cases](./use-cases.md) for more examples
- Learn about [Pipelines](../pipeline/pipeline.md) for automated workflows
