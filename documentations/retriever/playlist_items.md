> **Note**: This documentation was generated by AI and may contain inaccuracies. Please verify information and refer to the source code for authoritative details.

# PlaylistItemsRetriever

## Purpose

The `PlaylistItemsRetriever` retrieves items (videos) from YouTube playlists given playlist IDs. It supports pagination to retrieve all items from a playlist.

## Input Requirements

- **Input Type**: `list[str]` — List of playlist IDs
- **Format**: Playlist IDs in standard YouTube format (e.g., `"PLrAXtmRdnEQy6nuLMH1PzLx3jN1qJxY4Z"`)
- **One-to-Many**: One playlist ID can return multiple items

## Output Structure

Returns a list of dictionaries, each containing:

- **Core Fields**: `kind`, `etag`, `id`
- **Snippet**: Video title, description, published date, thumbnails, position in playlist, channel information
- **Content Details**: Video ID, video published date
- **Status**: Privacy status (if requested)

### Key Fields

- `id` — Playlist item ID
- `snippet.title` — Video title
- `snippet.description` — Video description
- `snippet.position` — Position in playlist (0-indexed)
- `snippet.publishedAt` — When item was added to playlist
- `snippet.thumbnails` — Video thumbnail images
- `contentDetails.videoId` — Video ID (use this to get full video details)
- `contentDetails.videoPublishedAt` — Video upload date

## Common Use Cases

1. **Playlist Contents** — Get all videos from a playlist
2. **Playlist Analysis** — Analyze playlist structure and content
3. **Video Discovery** — Find videos through playlists
4. **Batch Processing** — Process items from multiple playlists

## Example Usage

### Basic Usage

```python
from yt_pipeline.retriever import PlaylistItemsRetriever, PipeSettings

retriever = PlaylistItemsRetriever(
    iterable=["PLrAXtmRdnEQy6nuLMH1PzLx3jN1qJxY4Z"],
    developerKey=devKey,
    settings=PipeSettings(max_page=1)  # Get first page only
)

results = retriever.invoke()

# Extract video IDs
video_ids = []
for item in results:
    video_ids.append(item['contentDetails']['videoId'])
```

### Get All Items from Playlist

```python
retriever = PlaylistItemsRetriever(
    iterable=["PLrAXtmRdnEQy6nuLMH1PzLx3jN1qJxY4Z"],
    developerKey=devKey,
    settings=PipeSettings(retrieval="all", max_page=100)  # Get all items
)

results = retriever.invoke(multithread=True)
```

### Multiple Playlists

```python
playlist_ids = ["PLrAXtmRdnEQy6nuLMH1PzLx3jN1qJxY4Z", "PLrAXtmRdnEQy6nuLMH1PzLx3jN1qJxY4Z"]
retriever = PlaylistItemsRetriever(
    iterable=playlist_ids,
    developerKey=devKey,
    settings=PipeSettings(max_page=10),
    max_workers=8
)

results = retriever.invoke(multithread=True)
```

## Special Considerations

1. **Pagination** — Large playlists can have many items; use `max_page` to limit
2. **Quota Cost** — 1 unit per API call per playlist
3. **Deleted Videos** — Items for deleted videos may still appear but `videoId` will be invalid
4. **Private Videos** — Only returns items for videos accessible with your API key
5. **Position Order** — Items are returned in playlist order

## Related Components

- **[PlaylistItemsForeman](../foreman/playlist_items.md)** — Structured playlist item data access
- **[PlaylistItemsContainer](../container/playlist_items.md)** — Parsed playlist item objects
- **[PlaylistItemsShipper](../shipper/playlist_items.md)** — Flattened playlist item data

## Next Steps

- Read about [Retriever Use Cases](./use-cases.md) for more examples
- Learn about [PlaylistItemsForeman](../foreman/playlist_items.md) for structured access
- Explore [Pipelines](../pipeline/pipeline.md) for automated workflows
